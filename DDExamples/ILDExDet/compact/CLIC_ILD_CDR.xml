<lccdd xmlns:compact="http://www.lcsim.org/schemas/compact/1.0" 
    xmlns:xs="http://www.w3.org/2001/XMLSchema" 
    xs:noNamespaceSchemaLocation="http://www.lcsim.org/schemas/compact/1.0/compact.xsd">

    <info name="clic_sid_cdr"
        title="CLIC Silicon Detector CDR"
        author="Christian Grefe"
        url="https://twiki.cern.ch/twiki/bin/view/CLIC/ClicSidCdr"
        status="development"
        version="$Id: compact.xml,v 1.3 2010/12/02 16:34:00 grefe Exp $">
        <comment>The compact format for the CLIC Silicon Detector used for the conceptual design report</comment>        
    </info>
  
    <includes>
        <gdmlFile  ref="elements.xml"/>
        <gdmlFile  ref="materials.xml"/>
        <pyBuilder ref="../drivers"/>
    </includes>
  
    <define>
        <constant name="world_side"              value="7500*mm"/>
        <constant name="world_x"                 value="world_side/2"/>
        <constant name="world_y"                 value="world_side/2"/>
        <constant name="world_z"                 value="world_side"/>        
        <constant name="ILC_Main_Crossing_Angle" value="20*mrad"/>
        
        <constant name="TPC_outer_radius"       value="1808*mm"/>
        <constant name="TPC_inner_radius"       value="329*mm"/>

<!--
        <constant name="TPC_zhalf"              value="2500*mm"/>
        <constant name="TPC_inner_thickness"    value="2*mm"/>
        <constant name="TPC_outer_thickness"    value="3*mm"/>
        <constant name="TPC_endcap_thickness"   value="3*mm"/>
-->

        <!--                  Shared parameters                      -->
        <constant name="Ecal_Tpc_gap"                           value="35*mm"/>
        <constant name="Ecal_Lcal_ring_gap"                     value="54.8*mm"/>

        <constant name="TPC_Ecal_Hcal_barrel_halfZ"             value="2200*mm"/>
        <constant name="TPC_Ecal_gap"                           value="20*mm"/>

        <constant name="Ecal_outer_radius"                      value="1910*mm"/>
        <constant name="Ecal_endcap_outer_radius"               value="1926.1*mm"/>
        <constant name="Ecal_endcap_zmax"                       value="2500*mm"/>
        <constant name="Ecal_endcap_zmin"                       value="2329*mm"/>

        <constant name="LHcal_BCal_clearance"                   value="690*mm"/>
        <constant name="LHcal_zend"                             value="2600*mm"/>
        <constant name="LHcal_inner_radius"                     value="93*mm"/>
        <constant name="Hcal_Ecal_gap"                          value="29*mm"/>
        <constant name="Hcal_endcap_ecal_gap"                   value="30*mm"/>

        <constant name="SIT1_Radius"                            value="165*mm"/>
        <constant name="SIT1_Half_Length_Z"                     value="0*mm"/>
        <constant name="SIT2_Radius"                            value="309*mm"/>
        <constant name="SIT2_Half_Length_Z"                     value="0*mm"/>

        <!--                    VXD03 parameters                       -->
        <constant name="VXD_inner_radius"                       value="31*mm"/>
        <constant name="VXD_outer_radius"                       value="60*mm"/>
        <constant name="VXD_width_r1"                           value="5.5*mm"/>
        <constant name="VXD_width_r3"                           value="11*mm"/>
        <constant name="VXD_width_r5"                           value="11*mm"/>
        <constant name="VXD_radius_r1"                          value="VXD_inner_radius"/>
        <constant name="VXD_radius_r3"                          value="44*mm"/>
        <constant name="VXD_radius_r5"                          value="58*mm"/>
        <constant name="VXD_length_r1"                          value="130*mm"/>
        <constant name="VXD_length_r3"                          value="130*mm"/>
        <constant name="VXD_length_r5"                          value="130*mm"/>
        <constant name="VXD_layer_gap"                          value="2*mm"/>
        <constant name="VXD_end_ladd_electronics_half_length"   value="1*mm"/>
        <constant name="VXD_end_ladd_electronics_thickness"     value="0.000001*mm"/>

        <!--                    layers_common_parameters                -->
        <constant name="VXD_side_band_electronics_thickness"    value="0.05*mm"/>
        <constant name="VXD_support_structure_thickness"        value="0.067*mm"/>
        <constant name="VXD_active_silicon_thickness"           value="0.05*mm"/>
        <constant name="VXD_electronics_structure_thickness"    value="0.05*mm"/>
        <constant name="VXD_side_band_electronics_width"        value="0.5*mm"/>
        <constant name="VXD_end_ladder_electronics_option"      value="1"/>
        <constant name="VXD_strip_final_beampipe_radius"        value="30.3*mm"/>
        <constant name="VXD_support_structure_radial_thickness" value="0.49392*mm"/>
        <constant name="VXD_strip_lines_thickness"              value="0.09438*mm"/>
        <constant name="VXD_active_side_band_electronics_option" value="0"/>
        <constant name="VXD_side_band_electronics_option"       value="1"/>
        <constant name="VXD_end_electronics_half_z"             value="VXD_end_ladd_electronics_half_length"/>
        <!--                    support_shell                           -->
        <constant name="VXD_shell_offset_ladder_block"          value="0.28224*mm"/>
        <constant name="VXD_shell_thickness"                    value="0.49392*cm"/>
        <constant name="VXD_shell_beryllium_ladder_block_thickness" value="0.25*mm"/>
        <constant name="VXD_shell_endplate_inner_radius_L1"     value="14.5*mm"/>
        <constant name="VXD_shell_endplate_outer_radius_L1"     value="40*mm"/>
        <constant name="VXD_shell_half_z"                       value="134*mm"/>
        <constant name="VXD_shell_inner_radius"                 value="VXD_inner_radius"/>
        <constant name="VXD_shell_beryllium_ladder_block_length" value="1.0*mm"/>
        <!--                    VXD layer                              -->
        <constant name="VXD_strip_lines_final_z"                value="135*mm"/>
        <constant name="VXD_ladder_length"                      value="130*mm"/>
        <constant name="VXD_ladder_gap"                         value="0*mm"/>
        <!--                    VXD cryostat                           -->
        <constant name="VXD_cryostat_option"                    value="0"/>
        <constant name="VXD_cryostat_foam_inner_radius"         value="90*mm"/>
        <constant name="VXD_cryostat_foam_thickness"            value="10*mm"/>
        <constant name="VXD_cryostat_alu_skin_thickness"        value="0.5*mm"/>
        <constant name="VXD_cryostat_endplate_inner_radius"     value="30.7*mm"/>
        <constant name="VXD_cryostat_alu_skin_inner_radius"     value="100*mm"/>
 
        <!--                  LumiCalX parameters                      -->
        <constant name="Lcal_beam_pipe_clearance"              value="0.5*mm"/>
        <constant name="Lcal_inner_radius"                     value="100*mm"/>
        <constant name="Lcal_layer_gap"                        value="0.25*mm"/>
        <constant name="Lcal_n_layers"                         value="40"/>
        <constant name="Lcal_nstrips_phi"                      value="48"/>
        <constant name="Lcal_nstrips_theta"                    value="64"/>
        <constant name="Lcal_outer_radius"                     value="290*mm"/>
        <constant name="Lcal_phi_offset"                       value="0"/>
        <constant name="Lcal_silicon_thickness"                value="0.32*mm"/>
        <constant name="Lcal_support_thickness"                value="0.2*mm"/>
        <constant name="Lcal_tungsten_thickness"               value="3.5*mm"/>
        <constant name="Lcal_z_begin"                          value="2800*mm"/>
        <constant name="Lcal_z_thickness"                      value="135.6*mm"/>


        <!--                  SEcal03 parameters                      -->
        <constant name="Ecal_EC_ring_gap"                      value="10*mm"/>
        <constant name="Ecal_Slab_glue_gap"                    value="0.1*mm"/>
        <constant name="Ecal_lateral_face_thickness"           value="2*mm"/>
        <constant name="Ecal_Slab_PCB_thickness"               value="0.8*mm"/>
        <constant name="Ecal_Slab_copper_thickness"            value="0.2*mm"/>
        <constant name="Ecal_Slab_H_fiber_thickness"           value="0.30*mm"/>
        <constant name="Ecal_Slab_shield_thickness"            value="0.15*mm"/>
        <constant name="Ecal_Slab_ground_thickness"            value="0.05*mm"/>

        <constant name="Ecal_guard_ring_size"                  value="1*mm"/>

        <constant name="Ecal_front_face_thickness"             value="3*mm"/>
        <constant name="Ecal_fiber_thickness"                  value="0.2*mm"/>
        <constant name="Ecal_cell_size"                        value="4.9*mm"/>
        <constant name="Ecal_Alveolus_Air_Gap"                 value="0.25*mm"/>
        <constant name="Ecal_support_thickness"                value="15*mm"/>
        <constant name="Ecal_Si_thickness"                     value="0.5*mm"/>

        <constant name="Ecal_barrel_number_of_towers"          value="7"/>
        <constant name="Ecal_Barrel_halfZ"                     value="2206.25*mm"/>
        <constant name="Ecal_cells_size"                       value="10*mm"/>
        <constant name="Ecal_endcap_plug_rmin"                 value="250*mm"/>
        <constant name="Ecal_radiator_layers_set1_thickness"   value="2.1*mm"/>
        <constant name="Ecal_radiator_layers_set2_thickness"   value="4.2*mm"/>
        <constant name="Ecal_radiator_layers_set3_thickness"   value="0*mm"/>
        <constant name="Ecal_cables_gap"                       value="100*mm"/>

        <constant name="Ecal_endcap_extra_size"                value="76.62*mm"/>
        <constant name="Ecal_endcap_center_box_size"           value="600*mm"/>
        <constant name="Ecal_nlayers1"                         value="20"/>
        <constant name="Ecal_nlayers2"                         value="10"/>
        <constant name="Ecal_nlayers3"                         value="0"/>


        <!--                  SHcalSc02 parameters
        -->
        <constant name="Hcal_outer_radius"                     value="3000."/>
        <constant name="Hcal_ring"                             value="1"/>
        <constant name="Hcal_back_plate_thickness"             value="20"/>
        <constant name="Hcal_digitization_tile_size"           value="30*mm"/>
        <constant name="Hcal_barrel_end_module_type"           value="1"/>
        <constant name="Hcal_lateral_structure_thickness"      value="10*mm"/>
        <constant name="Hcal_cells_size"                       value="10"/>
        <constant name="Hcal_radiator_material"                value="Iron" value2="TungstenDens24"/>
        <constant name="Hcal_radial_ring_inner_gap"            value="50"/>
        <constant name="Hcal_apply_Birks_law"                  value="1"/>

        <constant name="Hcal_chamber_thickness"                value="6.5*mm"/>
        <constant name="Hcal_middle_stave_gaps"                value="3"/>
        <constant name="Hcal_Coil_additional_gap"              value="0.0"/>
        <constant name="Hcal_layer_support_length"             value="5*mm"/>
        <constant name="Hcal_sensitive_model"                  value="scintillator"/>
        <constant name="Hcal_stave_gaps"                       value="3"/>
        <constant name="Hcal_fiber_gap"                        value="1.5*mm"/>
        <constant name="Hcal_radiator_thickness"               value="10"/>
        <constant name="Hcal_layer_air_gap"                    value="2*mm"/>
        <constant name="Hcal_nlayers"                          value="75"/>
        <constant name="Hcal_modules_gap"                      value="2*mm"/>

        <constant name="Hcal_endcap_radiator_thickness"        value="20*mm"/>
        <constant name="Hcal_endcap_radiator_material"         value="Iron"/>
        <constant name="Hcal_endcap_nlayers"                   value="60"/>
        <constant name="Hcal_endcap_sensitive_center_box"      value="0"/>
        <constant name="Hcal_endcap_zmin"                      value="2670.7*mm"/>
        <constant name="Hcal_endcap_center_box_size"           value="800"/>
        <constant name="Hcal_endcap_ecal_gap"                  value="15*mm"/>
        <constant name="Hcal_endcap_cables_gap"                value="214*mm"/>

        <!-- constant name="Hcal_R_max"                        value="3088.99*mm"/ -->
        <constant name="Hcal_inner_radius"                     value="Ecal_outer_radius+Hcal_Ecal_gap"/>
        <constant name="Hcal_total_dim_y"
                  value="Hcal_nlayers*(Hcal_radiator_thickness + Hcal_chamber_thickness) + Hcal_back_plate_thickness"/>

        <constant name="Hcal_R_max"                            value="(Hcal_total_dim_y+Hcal_inner_radius)/cos(pi/16)"/>

        <constant name="Hcal_start_z"                          value="Ecal_endcap_zmax + Hcal_endcap_ecal_gap"/>
        <constant name="Hcal_endcap_total_z"
                  value="Hcal_endcap_nlayers*(Hcal_endcap_radiator_thickness+Hcal_chamber_thickness)+Hcal_back_plate_thickness"/>

        <constant name="Hcal_normal_dim_z"                     value="(2 * TPC_Ecal_Hcal_barrel_halfZ - Hcal_modules_gap)/2"/>
        <constant name="Hcal_regular_chamber_dim_z"            value="Hcal_normal_dim_z - 2*Hcal_lateral_structure_thickness"/>


        <!--                  TubeX01 parameters                      -->
        <constant name="TUBE_opening_angle"                    value="0.07876"/>
        <constant name="TUBE_IPOuterTube_start_radius"         value="30.696*mm"/>
        <constant name="TUBE_IPOuterTube_end_radius"           value="30.696*mm"/>
        <constant name="TUBE_IPOuterTube_end_z"                value="260*mm"/>
        <constant name="TUBE_IPOuterTube_start_z"              value="135*mm"/>
        <constant name="TUBE_IPOuterBulge_end_radius"          value="240.0*mm"/>
        <constant name="TUBE_IPOuterBulge_end_z"               value="2080*mm"/>

        <!--                   SFtd05 parameters                      -->
        <constant name="Ftd_total_cylinder_thickness"          value="1*mm"/>
        <constant name="Ftd_cables_thickness"                  value="0.08*mm"/>
        <constant name="Ftd_Si_thickness1"                     value="0.3*mm"/>
        <constant name="Ftd_Si_thickness2"                     value="0.3*mm"/>
        <constant name="Ftd_inner_support_thickness"           value="2*mm"/>
        <constant name="Ftd_inner_support_length"              value="4*mm"/>
        <constant name="Ftd_outer_support_thickness"           value="10*mm"/>
        <constant name="Ftd_outer_support_length"              value="4*mm"/>

        <!--                  TPC06  parameters
        -->
        <constant name="TPC_zhalf"                             value="TPC_Ecal_Hcal_barrel_halfZ"/>
        <constant name="TPC_electronics_backend_thickness"     value="230*mm"/>
        <constant name="TPC_inner_wall_thickness"              value="1.16*mm"/>
        <constant name="TPC_outer_wall_thickness"              value="1.51*mm"/>
        <constant name="TPC_pad_height"                        value="6*mm"/>
        <constant name="TPC_pad_width"                         value="1*mm"/>
        <constant name="TPC_max_step_length"                   value="10*mm"/>

        <!--                   COIL00 parameters                     -->
        <constant name="Coil_thickness"                        value="850*mm"/>
        <constant name="Coil_extra_size"                       value="2520*mm"/>
        <constant name="Coil_inner_radius"                     value="Hcal_R_max"/>
        <constant name="Coil_outer_radius"                     value="Hcal_R_max+Coil_thickness"/>
        <constant name="Coil_half_z"                           value="TPC_Ecal_Hcal_barrel_halfZ+Coil_extra_size"/>

        <!--                   clicyoke01 parameters                 -->
        <constant name="Yoke_Z_start_endcaps"                  value="4536*mm"/>
        <constant name="Yoke_barrel_inner_radius"              value="4450*mm"/>
        <constant name="Yoke_endcap_inner_radius"              value="690*mm"/>
        <constant name="Yoke_thickness"                        value="2550*mm"/>
        <constant name="Yoke_with_plug"                        value="1"/>
        <constant name="Yoke_Barrel_Half_Z"                    value="TPC_Ecal_Hcal_barrel_halfZ+Coil_extra_size+Yoke_thickness+20*mm"/>

        <!--                   BeamCal01  parameters                 -->
        <constant name="BCal_PairMonitor"                      value="0"/>
        <constant name="BCal_SpanningPhi"                      value="350*deg"/>
        <constant name="BCal_TubeIncomingRadius"               value="3.7*mm"/>
        <constant name="BCal_dAbsorber"                        value="3.5*mm"/>
        <constant name="BCal_dGraphite"                        value="100*mm"/>
        <constant name="BCal_nLayers"                          value="40"/>
        <constant name="BCal_nWafers"                          value="8"/>
        <constant name="BCal_rInner"                           value="32*mm"/>
        <constant name="BCal_rOuter"                           value="150*mm"/>
        <constant name="BCal_rSegmentation"                    value="8"/>

        <!--                   Misc.      parameters                 -->
        <constant name="tracking_region_radius"                value="TPC_outer_radius + 1.0*m"/>
        <constant name="tracking_region_zmax"                  value="TPC_zhalf + 1.0*m"/>

        <constant name="calorimeter_region_rmax"               value="Hcal_R_max"/>
        <constant name="calorimeter_region_zmax"               value="Hcal_start_z + Hcal_endcap_total_z"/>

        <constant name="SolenoidCoilOuterZ"                    value="TPC_zhalf + 0.3*m"/>
        <constant name="SolenoidalFieldRadius"                 value="TPC_outer_radius+0.2*m"/>

    </define>

    <materials>
        <material formula="Si" name="silicon_2.33gccm" state="solid" >
          <RL type="X0" unit="cm" value="9.36607" />
          <NIL type="lambda" unit="cm" value="45.7531" />
          <D type="density" unit="g/cm3" value="2.33" />
          <composite n="1" ref="Si" />
        </material>

        <material name="silicon_8.72gccm" state="solid" >
          <RL type="X0" unit="cm" value="9.36607" />
          <NIL type="lambda" unit="cm" value="45.7531" />
          <D type="density" unit="g/cm3" value="8.72" />
          <composite n="1" ref="Si" />
        </material>

        <material name="stainless_steel">
          <D value="7.85" unit="g/cm3"/>
          <fraction n="0.998" ref="Fe"/>
          <fraction n=".002" ref="C"/>
        </material>

        <material formula="W" name="tungsten_19.3gccm" state="solid" >
          <RL type="X0" unit="cm" value="0.350418" />
          <NIL type="lambda" unit="cm" value="10.3057" />
          <D type="density" unit="g/cm3" value="19.3" />
          <composite n="1" ref="W" />
        </material>

        <material name="Graphite">
        	<D value="1.7" unit="g/cm3"/>
        	<composite n="1" ref="C"/>
        </material>      
        <material name="Diamond">
        	<D value="1.7" unit="g/cm3"/>
        	<composite n="1" ref="C"/>
        </material>      

  <!-- This is wrong!!!! -->
  <material name="Mylar">
    <D value="1.43" unit="g/cm3" />
    <composite n="22" ref="C"/>
    <composite n="10" ref="H" />
    <composite n="2" ref="N" />
    <composite n="5" ref="O" />
  </material>

        <material name="TPC_endplates_mix" state="solid">
          <!-- density calculated internally  -->
          <!-- D type="density" unit="g/cm3" value="19.3" -->
          <composite n="0.1244" ref="Kapton"/>
          <composite n="0.0156" ref="Copper"/>
          <composite n="0.86"   ref="Air"/>
        </material>

        <material name="TPC_TDR_gas" state="solid">
          <!-- density calculated internally  -->
          <!-- D type="density" unit="g/cm3" value="19.3" -->
          <composite n="1.0" ref="Argon"/>
        </material>

        <material name="RPCGAS1" state="solid">
          <!-- density calculated internally  -->
          <!-- D type="density" unit="g/cm3" value="19.3" -->
          <composite n="1.0" ref="Argon"/>
        </material>

    </materials>
  
    <limits>

        <limitset name="cal_limits">
            <limit name="step_length_max" particles="*" value="5.0" unit="mm" />
        </limitset>
        <limitset name="YokeLimits">
            <!--
              // User Limits
              double maxStep  = 1.0;  /* max allowed step size in this volume*/
              double maxTrack = DBL_MAX; /* max total track length*/
              double maxTime  = DBL_MAX; /* max time*/
              double minEkine = 0;       /* min kinetic energy  (only for charged particles)*/
              double minRange = 0;       /* min remaining range (only for charged particles)*/
              G4UserLimits *userLimits = new G4UserLimits(maxStep, maxTrack, maxTime, minEkine, minRange);
            -->
            <limit name="step_length_max" particles="*" value="1" unit="mm" />
        </limitset>

        <limitset name="EcalLimits">
            <limit name="step_length_max" particles="*" value="5" unit="mm" />
        </limitset>

        <limitset name="TPCLimits">
            <limit name="step_length_max" particles="*" value="TPC_max_step_length" unit="mm" />
        </limitset>

        <limitset name="HcalLimits">
            <limit name="step_length_max" particles="*" 
                   value="min(Hcal_cells_size,Hcal_regular_chamber_dim_z/floor(Hcal_regular_chamber_dim_z/Hcal_cells_size))" 
                   unit="mm" />
        </limitset>

    </limits>

    <display>

      <!--                  TubeX01 visualization parameters 
      -->
      <vis name="TubeVis"              alpha="1.0" r="0.9"  g="0.9"  b="0.0"    drawingStyle="solid"     showDaughters="true"  visible="true" top="true"/>
      <vis name="TubeVacuumVis"        alpha="1.0" r="0.0"  g="0.0"  b="0.5"    drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="TubeWallVis"          alpha="1.0" r="0.7"  g="0.7"  b="0.5"    drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="TubeBerylliumVis"     alpha="1.0" r="1.0"  g="0.9"  b="0.0"    drawingStyle="solid"     showDaughters="true"  visible="true"/>

      <!--                  VXD visualization parameters 
      -->
      <vis name="VXDVis"               alpha="1.0" r="0.5" g="0.5" b="0.5"      drawingStyle="solid"     showDaughters="true"  visible="true" top="true"/>
      <vis name="VXDLayerVis"          alpha="1.0" r="0.0" g="1.0" b="0.0"      drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="VXDElectronicsVis"    alpha="1.0" r="0.8" g="0.8" b="1.0"      drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="VXDBerilliumVis"      alpha="1.0" r="0.0" g="0.5" b="0.5"      drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="VXDSupportVis"        alpha="1.0" r="0.6" g="0.6" b="0.6"      drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="VXDStripsVis"         alpha="1.0" r="0.0" g="1.0" b="0.0"      drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="VXDActiveStripsVis"   alpha="1.0" r="1.0" g="0.0" b="0.0"      drawingStyle="solid"     showDaughters="true"  visible="true"/>

      <!--                  SIT visualization parameters 
      -->
      <vis name="SitVis"               alpha="1.0" r="0.3" g="0.3" b="0.3"      drawingStyle="solid"     showDaughters="true"  visible="true" top="true"/>
      <vis name="SITSupportVis"        alpha="1.0" r="0.0" g="0.0" b="0.75"     drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="SITSensitiveVis"      alpha="1.0" r="0.5" g="0.5" b="0.5"      drawingStyle="solid"     showDaughters="true"  visible="true"/>

      <!--                  Lcal    visualization parameters 
      -->
      <vis name="LcalVis"              alpha="1.0" r="0"   g="1"   b="0"        drawingStyle="solid"     showDaughters="true"  visible="true" top="true"/>
      <vis name="LcalSupportVis"       alpha="1.0" r="0.5" g="0.5" b="0.5"      drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="LcalAbsorberVis"      alpha="1.0" r="0"   g="0"   b="1"        drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="LcalActiveVis"        alpha="1.0" r="1"   g="0"   b="0"        drawingStyle="wireframe" yshowDaughters="true" visible="true"/>

      <!--                  Ftd visualization parameters 
      -->
      <vis name="FtdVis"               alpha="1.0" r="0.5"  g="0.5"  b="0.5"    drawingStyle="solid"     showDaughters="true"  visible="true" top="true"/>
      <vis name="FtdDiskVis"           alpha="1.0" r="1"    g="1"    b="0.8"    drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="FtdSupportVis"        alpha="1.0" r="1.0"  g="0.5"  b="0.5"    drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="FtdCylinderVis"       alpha="1.0" r="0.45" g="0.2"  b="0.9"    drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="FtdCablesVis"         alpha="1.0" r="0"    g="0.9"  b="0.0"    drawingStyle="solid"     showDaughters="true"  visible="true"/>

      <!--                  Set visualization parameters 
      -->
      <vis name="SetVis"               alpha="1.0" r="0.5"  g="0.5"  b="0.5"    drawingStyle="solid"     showDaughters="true"  visible="true" top="true"/>
      <vis name="SetSupportVis"        alpha="1.0" r="0.5"  g="0.5"  b="0.5"    drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="SetSensitiveVis"      alpha="1.0" r="0.0"  g="0.0"  b="0.75"   drawingStyle="solid"     showDaughters="true"  visible="true"/>

      <!--                  Etd  visualization parameters 
      -->
      <vis name="EtdVis"               alpha="1.0" r="0.5"  g="0.5"  b="0.5"    drawingStyle="solid"     showDaughters="true"  visible="true" top="true"/>
      <vis name="EtdSupportVis"        alpha="1.0" r="0.5"  g="0.5"  b="0.5"    drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="EtdSensitiveVis"      alpha="1.0" r="0.0"  g="0.0"  b="0.75"   drawingStyle="solid"     showDaughters="true"  visible="true"/>

      <!--                  BeamCal visualization parameters 
      -->
      <vis name="BeamCalVis"           alpha="1.0" r="0.5"  g="0.5"  b="0.5"    drawingStyle="solid"     showDaughters="true"  visible="true" top="true"/>
      <vis name="BeamCalCaloVis"       alpha="1.0" r="0.1"  g="0.6"  b="1.0"    drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="BeamCalSensorVis"     alpha="1.0" r="1.0"  g="0.0"  b="0.0"    drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="BeamCalAbsorberVis"   alpha="1.0" r="1.0"  g="0.0"  b="1.0"    drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="BeamCalElectrodeVis"  alpha="1.0" r="1.0"  g="1.0"  b="1.0"    drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="BeamCalPcbVis"        alpha="1.0" r="1.0"  g="0.6"  b="0.0"    drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="BeamCalGraphiteVis"   alpha="1.0" r="0.5"  g="0.5"  b="0.5"    drawingStyle="solid"     showDaughters="true"  visible="true"/>

      <!--                  MaskX01 visualization parameters 
      -->
      <vis name="MaskVis"              alpha="1.0" r="0.5"  g="0.5"  b="0.5"    drawingStyle="solid"     showDaughters="true"  visible="true" top="true"/>
      <vis name="MaskMagnetsVis"    alpha="1.0" r="1"    g="0.5"  b="0.2"       drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="MaskPumpsVis"      alpha="1.0" r="0.8"  g="0.8"  b="0.8"       drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="MaskAntiSolenoidVis" alpha="1" r="1"    g="0.5"  b="0"         drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="MaskSupportVis"    alpha="1.0" r="0.2"  g="0.6"  b="0.2"       drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="MaskKickerVis"     alpha="1.0" r="0.1"  g="0.8"  b="0.8"       drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="MaskBpmVis"        alpha="1.0" r="0.5"  g="0.8"  b="1"         drawingStyle="solid"     showDaughters="true"  visible="true"/>

      <!--                  TPC06   visualization parameters
      -->
      <vis name="TPCVis"               alpha="1.0" r="0.0"  g="0"    b="0.5"    drawingStyle="solid"     showDaughters="true"  visible="true" top="true"/>
      <vis name="TPCWallVis"           alpha="1.0" r="0.0"  g="0.5"  b="0.5"    drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="TPCEndcapVis"         alpha="1.0" r="0.0"  g="0.5"  b="0.5"    drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="TPCTDR_gasVis"        alpha="1.0" r="1.0"  g="1.0"  b="1.0"    drawingStyle="solid"     showDaughters="false" visible="true"/>
      <vis name="TPCCathodeVis"        alpha="1.0" r="0.9"  g="0.3"  b="0.1"    drawingStyle="solid"     showDaughters="false" visible="true"/>
      <vis name="TPCCopperVis"         alpha="1.0" r="0.9"  g="0.3"  b="0.1"    drawingStyle="solid"     showDaughters="false" visible="true"/>
      <vis name="TPCKaptonVis"         alpha="1.0" r="0.3"  g="0.4"  b="0.4"    drawingStyle="solid"     showDaughters="false" visible="true"/>
      <vis name="TPCEpoxyVis"          alpha="1.0" r="0.1"  g="0.5"  b="0.2"    drawingStyle="solid"     showDaughters="false" visible="true"/>
      <vis name="TPCAluminumVis"       alpha="1.0" r="0.7"  g="0.7"  b="0.7"    drawingStyle="solid"     showDaughters="false" visible="true"/>

      <!--                  SEcal     visualization parameters
      -->
      <vis name="EcalVis"              alpha="1.0" r="1"    g="1"    b="0.2"    drawingStyle="solid"     showDaughters="true"  visible="true" top="true"/>
      <vis name="EcalPCBVis"           alpha="1.0" r="0.5"  g="0.5"  b="0"      drawingStyle="wireframe" showDaughters="true"  visible="true"/>
      <vis name="EcalRadiatorVis"      alpha="1.0" r="0.3"  g="0.3"  b="0.3"    drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="EcalTowerVis"         alpha="1.0" r="0"    g="0.1"  b="0.9"    drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="EcalRingVis"          alpha="1.0" r="0"    g="0"    b="1"      drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="EcalWaferVis"         alpha="1.0" r=".7"   g=".7"   b=".7"     drawingStyle="solid"     showDaughters="false" visible="false"/>
      <vis name="EcalSlabVis"          alpha="1.0" r="0.6"  g="0.6"  b="0.6"    drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="EcalSlabGroundVis"    alpha="1.0" r="0"    g="0"    b="1"      drawingStyle="wireframe" showDaughters="true"  visible="true"/>
      <vis name="EcalSlabSensitiveVis" alpha="1.0" r="0.5"  g="0.5"  b="0.5"    drawingStyle="solid"     showDaughters="true"  visible="true"/>

      <!--                  SHcalSc02 visualization parameters
      -->
      <vis name="HcalVis"              alpha="1.0" r="0.8"  g="0.8"  b="0.2"    drawingStyle="solid"     showDaughters="true"  visible="true" top="true"/>
      <vis name="HcalModuleVis"        alpha="1.0" r="0"    g="0.6"  b="0.6"    drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="HcalChamberVis"       alpha="1.0" r="1.0"  g="1.0"  b="1.0"    drawingStyle="solid"     showDaughters="true"  visible="false"/>
      <vis name="HcalChamberGapVis"    alpha="1.0" r="0.4"  g="0.4"  b="0.4"    drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="HcalScintillatorVis"  alpha="1.0" r="0.0"  g="1.0"  b="0.0"    drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="HcalSupportTrapVis"   alpha="1.0" r="0.0"  g="0.7"  b="0.7"    drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="HcalBarrelGapVis"     alpha="1.0" r="0.1"  g="0.1"  b="0.1"    drawingStyle="solid"     showDaughters="true"  visible="true"/>

      <!--                  Coil      visualization parameters
      -->
      <vis name="CoilVis"              alpha="1.0" r="0.0"  g="0.0"  b="0.7"    drawingStyle="solid"     showDaughters="true"  visible="false" top="true"/>

      <!--                  Yoke      visualization parameters
      -->
      <vis name="YokeVis"              alpha="1.0" r="0.1"  g="0.8"  b="0.8"    drawingStyle="solid"     showDaughters="true"  visible="true" top="true"/>
      <vis name="YokeBarrelVis"        alpha="1.0" r="0.1"  g="0.8"  b="0.8"    drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="YokeEndcapVis"        alpha="1.0" r="0.1"  g="0.8"  b="0.8"    drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="YokeChamberVis"       alpha="1.0" r="0.1"  g="0.6"  b="0.6"    drawingStyle="solid"     showDaughters="false"  visible="true"/>
      <vis name="YokeBodyVis"          alpha="1.0" r="0.1"  g="0.8"  b="0.8"    drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="YokeRPCGasVis"        alpha="1.0" r="0.0"  g="1.0"  b="0.0"    drawingStyle="solid"     showDaughters="true"  visible="true"/>
      <vis name="YokePlugVis"          alpha="1.0" r="1.0"  g="0.0"  b="0.0"    drawingStyle="solid"     showDaughters="true"  visible="true"/>

    </display>

    <detectors>
        <comment>Trackers</comment>

        <!--                  tubeX01 parameters
        -->
        <detector id="1" name="Beampipe" type="Tesla_tubeX01"
                  material="Beryllium" vis="TubeVis"
                  crossing_angle="ILC_Main_Crossing_Angle/2">
          <tubes>
           <tube name="IPInnerTube" crossType="0" material="Beryllium" vis="TubeBerylliumVis">
              <start inner_r="29.4*mm" outer_r="30*mm" z="0*mm"/>
              <end   inner_r="29.4*mm" outer_r="30*mm" z="135*mm"/>
            </tube>
            <tube name="IPOuterTube" crossType="0" material="Beryllium" vis="TubeBerylliumVis">
              <start inner_r="29.4*mm" outer_r="TUBE_IPOuterTube_start_radius" z="TUBE_IPOuterTube_start_z"/>
              <end   inner_r="29.4*mm" outer_r="TUBE_IPOuterTube_end_radius"   z="TUBE_IPOuterTube_end_z"/>
            </tube>
            <tube name="CylinderConeConnect" crossType="0" material="Iron" vis="TubeWallVis">
              <start inner_r="29.4*mm" outer_r="30.0*mm" z="260*mm"/>
              <end   inner_r="29.4*mm" outer_r="33.4*mm" z="289.47*mm"/>
            </tube>
            <tube name="IPOuterBulge" crossType="0" material="Iron" vis="TubeWallVis">
              <start inner_r="29.4*mm" outer_r="33.4*mm" z="289.47*mm"/>
              <end   inner_r="235.2*mm" outer_r="TUBE_IPOuterBulge_end_radius" z="TUBE_IPOuterBulge_end_z"/>
            </tube>
            <tube name="IPOuterLink" crossType="0" material="Iron" vis="TubeWallVis">
              <start inner_r="235.2*mm" outer_r="240*mm" z="2080*mm"/>
              <end   inner_r="235.2*mm" outer_r="240*mm" z="2645*mm"/>
            </tube>
            <tube name="LumiCalFront" crossType="3" material="Iron" vis="TubeWallVis">
              <start inner_r="98*mm" outer_r="99*mm" z="2645*mm"/>
              <end   inner_r="98*mm" outer_r="99*mm" z="2646*mm"/>
            </tube>
            <tube name="LumiCalInner" crossType="7" material="Iron" vis="TubeWallVis">
              <start inner_r="98*mm" outer_r="99*mm" z="2646*mm"/>
              <end   inner_r="98*mm" outer_r="99*mm" z="3170*mm"/>
            </tube>
            <tube name="BeamCalFront" crossType="5" material="Iron" vis="TubeWallVis">
              <start inner_r="2.7*mm" outer_r="99*mm" z="3170*mm"/>
              <end   inner_r="31*mm"  outer_r="99*mm" z="3171*mm"/>
            </tube>
            <tube name="BeamCalInnerDwnstream1" crossType="2" material="Iron" vis="TubeWallVis">
              <start inner_r="31*mm" outer_r="32*mm" z="3171*mm"/>
              <end   inner_r="31*mm" outer_r="32*mm" z="3500*mm"/>
            </tube>
            <tube name="BehindBeamCalDnwstream2" crossType="2" material="Iron" vis="TubeWallVis">
              <start inner_r="31*mm" outer_r="32*mm" z="3500*mm"/>
              <end   inner_r="39*mm" outer_r="40*mm" z="4000*mm"/>
            </tube>
            <tube name="BehindBeamCalDwnstream3" crossType="2" material="Iron" vis="TubeWallVis">
              <start inner_r="39*mm" outer_r="40*mm" z="4000*mm"/>
              <end   inner_r="69*mm" outer_r="70*mm" z="7000*mm"/>
            </tube>
            <tube name="BeamCalInnerDwnstream4" crossType="2" material="Iron" vis="TubeWallVis">
              <start inner_r="69*mm"  outer_r="70*mm"  z="7000*mm"/>
              <end   inner_r="124*mm" outer_r="125*mm" z="12500*mm"/>
            </tube>
            <tube name="BeamCalInnerUpstream" crossType="12" material="Iron" vis="TubeWallVis">
              <start inner_r="2.7*mm" outer_r="3.7*mm" z="3171*mm"/>
              <end   inner_r="2.7*mm" outer_r="3.7*mm" z="3500*mm"/>
            </tube>
            <tube name="MainUpstream1" crossType="1" material="Iron" vis="TubeWallVis">
              <start inner_r="2.7*mm" outer_r="3.7*mm" z="3500*mm"/>
              <end   inner_r="2.7*mm" outer_r="3.7*mm" z="4000*mm"/>
            </tube>
            <tube name="MainUpstream2" crossType="1" material="Iron" vis="TubeWallVis">
              <start inner_r="2.7*mm" outer_r="3.7*mm" z="4000*mm"/>
              <end   inner_r="2.7*mm" outer_r="3.7*mm" z="6000*mm"/>
            </tube>
            <tube name="MainUpstream3" crossType="1" material="Iron" vis="TubeWallVis">
              <start inner_r="2.7*mm" outer_r="3.7*mm" z="6000*mm"/>
              <end   inner_r="2.7*mm" outer_r="3.7*mm" z="8000*mm"/>
            </tube>
            <tube name="MainUpstream4" crossType="1" material="Iron" vis="TubeWallVis">
              <start inner_r="2.7*mm" outer_r="3.7*mm" z="8000*mm"/>
              <end   inner_r="2.7*mm" outer_r="3.7*mm" z="10000*mm"/>
            </tube>
            <tube name="MainUpstream5" crossType="1" material="Iron" vis="TubeWallVis">
              <start inner_r="2.7*mm" outer_r="3.7*mm" z="10000*mm"/>
              <end   inner_r="2.7*mm" outer_r="3.7*mm" z="12500*mm"/>
            </tube>
          </tubes>
        </detector>

        <!--                    VXD03 parameters                       
              Note: side_band_electronics and end_ladder_electronics
                    and cryostat are optional.
        -->
        <detector id="2" name="VXD" type="Tesla_VXD03" vis="VXDVis" readout="VXDHits">
          <support     thickness="VXD_support_structure_radial_thickness" material="Beryllium">
            <central   rmin="VXD_shell_inner_radius"               
                       rmax="VXD_shell_inner_radius+VXD_support_structure_radial_thickness" 
                       zhalf="VXD_shell_half_z" vis="VXDSupportVis"/>
            <endplate  rmin="VXD_shell_inner_radius"    
                       rmax="VXD_shell_inner_radius+VXD_shell_thickness" 
                       zhalf="VXD_support_structure_radial_thickness/2.0" vis="VXDSupportVis"/>
            <endplate_L1 rmin="VXD_shell_endplate_inner_radius_L1-0.3*mm" 
                         rmax="VXD_shell_endplate_outer_radius_L1+VXD_layer_gap+2.0*mm"
                         zhalf="VXD_support_structure_radial_thickness/2" vis="VXDSupportVis"/>
          </support>

          <beryllium_ladder_block length="VXD_shell_beryllium_ladder_block_length" thickness="VXD_shell_beryllium_ladder_block_thickness" material="Beryllium"/>

          <side_band_electronics  width="VXD_side_band_electronics_width"    thickness="VXD_side_band_electronics_thickness" sensitive="true"/>

          <end_ladder_electronics zhalf="VXD_end_ladd_electronics_half_length" thickness="VXD_end_ladd_electronics_thickness" sensitive="true"/>

          <active_silicon thickness="VXD_active_silicon_thickness"/>
          <strip_lines    radius="VXD_strip_final_beampipe_radius"  z="VXD_strip_lines_final_z" thickness="VXD_strip_lines_thickness" material="Kapton"/>


          <layer id="1" z="VXD_strip_lines_final_z" number="12" gap="VXD_layer_gap" vis="VXDLayerVis">
            <ladder  length="VXD_ladder_length"  radius="VXD_radius_r1" 
                     gap="VXD_ladder_gap" width="VXD_width_r1" thickness="0.1*mm" material="Silicon"/>
          </layer>
          <layer id="2" z="VXD_strip_lines_final_z" number="12" gap="VXD_layer_gap" vis="VXDLayerVis">
            <ladder  length="VXD_ladder_length"  radius="VXD_radius_r1" 
                     gap="VXD_ladder_gap" width="VXD_width_r1" thickness="0.1*mm" material="Silicon"/>
          </layer>
          <layer id="3" z="VXD_strip_lines_final_z" number="12" gap="VXD_layer_gap" vis="VXDLayerVis">
            <ladder  length="VXD_ladder_length" radius="VXD_radius_r3" 
                     gap="VXD_ladder_gap" width="VXD_width_r3" thickness="0.1*mm" material="Silicon"/>
          </layer>
          <layer id="4" z="VXD_strip_lines_final_z" number="12" gap="VXD_layer_gap" vis="VXDLayerVis">
            <ladder  length="VXD_ladder_length" radius="VXD_radius_r3" 
                     gap="VXD_ladder_gap" width="VXD_width_r3" thickness="0.1*mm" material="Silicon"/>
          </layer>
          <layer id="5" z="VXD_strip_lines_final_z" number="20" gap="VXD_layer_gap" vis="VXDLayerVis">
            <ladder  length="VXD_ladder_length" radius="VXD_radius_r5" 
                     gap="VXD_ladder_gap" width="VXD_width_r5" thickness="0.1*mm" material="Silicon"/>
          </layer>
          <layer id="6" z="VXD_strip_lines_final_z" number="20" gap="VXD_layer_gap" vis="VXDLayerVis">
            <ladder  length="VXD_ladder_length" radius="VXD_radius_r5" 
                     gap="VXD_ladder_gap" width="VXD_width_r5" thickness="0.1*mm" material="Silicon"/>
          </layer>
        </detector>


        <!--                  maskX01 description 
        -->
        <detector id="1209" name="clicmaskX01" type="Tesla_maskX01" crossing_angle="ILC_Main_Crossing_Angle/2" vis="MaskVis">
          <component name="QD0" crossType="1" material="Iron" vis="MaskMagnetsVis">
             <start inner_r="3.83*mm" outer_r="35*mm" z="4256*mm"/>
             <end   inner_r="3.83*mm" outer_r="35*mm" z="6965*mm"/>
          </component>
          <component name="Antisolenoid" crossType="0" material="Iron" vis="MaskAntiSolenoidVis">
             <start inner_r="401*mm" outer_r="685*mm" z="4256*mm"/>
             <end   inner_r="401*mm" outer_r="685*mm" z="7235*mm"/>
          </component>
          <component name="SupportLhcalEnd" crossType="3" material="Tungsten" vis="MaskSupportVis">
            <start inner_r="0*mm"                       outer_r="400*mm" z="LHcal_zend-2600*mm+2835*mm"/>
            <end   inner_r="100*mm+LHcal_inner_radius"  outer_r="400*mm" z="2875*mm"/>
          </component>
          <component name="SupportMain" crossType="0" material="Iron" vis="MaskSupportVis">
            <start inner_r="300*mm"  outer_r="400*mm" z="2600*mm"/>
            <end   inner_r="300*mm"  outer_r="400*mm" z="7500*mm"/>
          </component>
          <component name="SupportBeamCal" crossType="3" material="Iron" vis="MaskSupportVis">
            <start inner_r="0*mm"    outer_r="299.99*mm" z="LHcal_zend-2600*mm+3181*mm"/>
            <end   inner_r="165*mm"  outer_r="299.99*mm" z="LHcal_zend-2600*mm+3461*mm"/>
          </component>
          <component name="Kicker" crossType="1" material="Iron" vis="MaskKickerVis">
            <start inner_r="4*mm"  outer_r="25*mm" z="LHcal_zend-2600*mm+3580*mm"/>
            <end   inner_r="4*mm"  outer_r="25*mm" z="LHcal_zend-2600*mm+3880*mm"/>
          </component>
          <component name="BPM" crossType="2" material="Iron" vis="MaskBpmVis">
            <start inner_r="35*mm"  outer_r="54*mm" z="LHcal_zend-2600*mm+3480*mm"/>
            <end   inner_r="35*mm"  outer_r="54*mm" z="LHcal_zend-2600*mm+3570*mm"/>
          </component>
        </detector>

        <!--                  LumiCalX parameters
        -->
        <detector id="5" name="SLcal02" type="Tesla_LumiCalX" vis="LcalVis" readout="LcalHits">
          <layer inner_r="Lcal_inner_radius" 
                 outer_r="Lcal_outer_radius" 
                 inner_z="Lcal_z_begin"
                 z_thickness="Lcal_z_thickness"
                 thetaBins="Lcal_nstrips_theta" 
                 phiBins="Lcal_nstrips_phi"
                 phioffset="Lcal_phi_offset"
                 gap="Lcal_layer_gap"
                 nmodules="Lcal_n_layers" 
                 crossing_angle="ILC_Main_Crossing_Angle/2"
                 >
            <slice name="support"  thickness="Lcal_support_thickness"  material="Polystyrene"       vis="LcalSupportVis"/>
            <slice name="absorber" thickness="Lcal_tungsten_thickness" material="tungsten_19.3gccm" vis="LcalAbsorberVis"/>
            <slice name="active"   thickness="Lcal_silicon_thickness"  material="silicon_2.33gccm"  vis="LcalActiveVis"/>
          </layer>
        </detector>

        <!--                  SEcal03 parameters
        -->
        <detector id="10" name="ECAL" type="Tesla_SEcal03" limits="EcalLimits" vis="EcalVis">
          <param lateral_face_thickness="Ecal_lateral_face_thickness"
                 fiber_thickness="Ecal_fiber_thickness"
                 guard_ring_size="Ecal_guard_ring_size"
                 cell_size="Ecal_cell_size"
                 alveolus_gap="Ecal_Alveolus_Air_Gap"
                 crossing_angle="ILC_Main_Crossing_Angle/2"
                 cables_gap="Ecal_cables_gap"
                 front_face_thickness="Ecal_front_face_thickness"
                 support_thickness="Ecal_support_thickness"
               />
          <pcbshield thickness="Ecal_Slab_PCB_thickness + Ecal_Slab_copper_thickness + Ecal_Slab_shield_thickness" vis="EcalPCBVis" material="G10"/>
          <barrel    inner_r="TPC_outer_radius+TPC_Ecal_gap"
                     zhalf="Ecal_Barrel_halfZ" 
                     towers="Ecal_barrel_number_of_towers"
                     radiatorMaterial="tungsten_19.3gccm"
                     material="G10"
                     readout="EcalBarrelHits"
                     vis="EcalVis"/>
          <endcap    inner_r="Lcal_outer_radius + Ecal_Lcal_ring_gap"
                     ring_gap="Ecal_EC_ring_gap"
                     extra_size="Ecal_endcap_extra_size"
                     center_box_size="Ecal_endcap_center_box_size"
                     readout="EcalEndcapHits"
                     ring_readout="EcalEndcapRingHits"
                     vis="EcalVis"/>

          <layer id="1" repeat="Ecal_nlayers1" thickness="Ecal_radiator_layers_set1_thickness" material="tungsten_19.3gccm"/>
          <layer id="2" repeat="Ecal_nlayers2" thickness="Ecal_radiator_layers_set2_thickness" material="tungsten_19.3gccm"/>
          <layer id="3" repeat="Ecal_nlayers3" thickness="Ecal_radiator_layers_set3_thickness" material="tungsten_19.3gccm"/>
          <slab h_fiber_thickness="Ecal_Slab_H_fiber_thickness">
            <shielding thickness="Ecal_Slab_shield_thickness"/>
            <copper    thickness="Ecal_Slab_copper_thickness" material="Cu"/>
            <ground    thickness="Ecal_Slab_ground_thickness" material="Cu"/>
            <glue      thickness="Ecal_Slab_glue_gap"/>
            <sensitive thickness="Ecal_Si_thickness" material="silicon_2.33gccm"/>
          </slab>
        </detector>

        <!--                  SHcalSc02 description
        -->
        <detector id="9" name="Hcal" type="Tesla_SHcalSc02" limits="HcalLimits" vis="HcalVis">
           <module       vis="HcalModuleVis"/>
           <chamber      vis="HcalChamberVis"/>
           <chambergap   vis="HcalChamberGapVis"/>
           <scintillator vis="HcalScintillatorVis"/>
           <supporttrap  vis="HcalSupportTrapVis"/>

           <barrel vis="HcalModuleVis">
             <gap  vis="HcalChamberGapVis"/>
             <radiator material="Iron" vis="HcalRadiatorVis"/>
           </barrel>
           <endcap vis="HcalModuleVis">
             <gap  vis="HcalChamberGapVis"/>
             <radiator material="Iron" vis="HcalRadiatorVis"/>
           </endcap>
        </detector>

        <!--                  TPC06  description
        -->
        <detector id="1197" name="clictpc01" type="Tesla_tpc06" limits="TPCLimits" readout="TPCHits" vis="TPCVis">
          <envelope   inner_r="TPC_inner_radius" outer_r="TPC_outer_radius" zhalf="TPC_Ecal_Hcal_barrel_halfZ" vis="TPCTDR_gasVis"/>
          <inner_wall thickness="TPC_inner_wall_thickness" material="Aluminum" vis="TPCWallVis"/>
          <outer_wall thickness="TPC_outer_wall_thickness" material="Aluminum" vis="TPCWallVis"/>
          <pads  height="TPC_pad_height" width="TPC_pad_width"/>
          <endplate_param material="TPC_endplates_mix"
                     electronics_backend_thickness="TPC_electronics_backend_thickness"
                     vis="TPCWallVis"/>
          <endplates>
            <endplate material="Copper" dz="0.003*mm" vis="TPCCopperVis"/>
            <endplate material="Kapton" dz="0.03*mm"  vis="TPCKaptonVis"/>
            <endplate material="Copper" dz="0.003*mm" vis="TPCCopperVis"/>
            <endplate material="TPC_TDR_gas" dz="1.964*mm" vis="TPCTDR_gasVis"/>
            <endplate material="Copper" dz="0.003*mm" vis="TPCCopperVis"/>
            <endplate material="Kapton" dz="0.03*mm"  vis="TPCKaptonVis"/>
            <endplate material="Copper" dz="0.003*mm" vis="TPCCopperVis"/>
            <endplate material="TPC_TDR_gas" dz="1.964*mm" vis="TPCTDR_gasVis"/>
            <endplate material="Copper" dz="0.003*mm" vis="TPCCopperVis"/>
            <endplate material="Kapton" dz="0.03*mm"  vis="TPCKaptonVis"/>
            <endplate material="Copper" dz="0.003*mm" vis="TPCCopperVis"/>
            <endplate material="TPC_TDR_gas" dz="3.964*mm" vis="TPCTDR_gasVis"/>
            <endplate material="Copper" dz="0.05*mm"  vis="TPCCopperVis"/>
            <endplate material="G10"    dz="2.0*mm"/>
            <endplate material="silicon_2.33gccm" dz="0.5*mm"/>
            <endplate material="Epoxy"  dz="2.0*mm"   vis="TPCEpoxyVis"/>
            <endplate material="Kapton" dz="1.0*mm"   vis="TPCKaptonVis"/>
            <endplate material="Copper" dz="2.0*mm"   vis="TPCCopperVis"/>
            <endplate material="Kapton" dz="1.0*mm"   vis="TPCKaptonVis"/>
            <endplate material="Aluminum" dz="3.0*mm" vis="TPCAluminumVis"/>
         </endplates>

         <barrel cathode_mylar="0.05*mm" 
                 drInnerInsensitive="66.0*mm" 
                 cathode_cupper="0.01*mm" 
                 chamberGas="TPC_TDR_gas" 
                 drOuterInsensitive="64.0*mm"
                 dzCathode="0.12*mm"/>
         <cathode material="Copper" vis="TPCCathodeVis"/>
       </detector>

        <!--                  SFtd05 parameters  
         -->
        <detector id="1198" name="ClicSFtd05" type="Tesla_SFtd05" vis="FtdVis" readout="FtdHits">
          <params cable_shield_thickness="0.1"
                  ftd1_sit1_radial_diff="-63.0" 
                  ftd3_sit2_radial_diff="-134.0"
                  ftd1_vtx3_distance_z="95.0" 
                  ftd4to7_tpc_radial_gap="9.0"
                  ftd7_ecal_distance_z="582.0" 
                  beamtube_clearance="2.0" 
                  ftd2_sit1_radial_diff="-63.0"
                  outer_cylinder_total_thickness="1.0" 
                  cables_thickness="0.08"
                 />
          <disks>
            <disk id="2" si_thickness="0.05"  support_thickness="0.076" z_ReltoTPCLength="0.06808"/>
            <disk id="2" si_thickness="0.05"  support_thickness="0.076" z_ReltoTPCLength="0.06894"/>
            <disk id="2" si_thickness="0.05"  support_thickness="0.076" z_ReltoTPCLength="0.08809"/>
            <disk id="2" si_thickness="0.05"  support_thickness="0.076" z_ReltoTPCLength="0.08893"/>
            <disk id="2" si_thickness="0.05"  support_thickness="0.076" z_ReltoTPCLength="0.10851"/>
            <disk id="2" si_thickness="0.05"  support_thickness="0.076" z_ReltoTPCLength="0.10936"/>
            <disk id="3" si_thickness="0.275" support_thickness="1.136" z_ReltoTPCLength="0.1626"/>
            <disk id="4" si_thickness="0.275" support_thickness="1.136" z_ReltoTPCLength="0.283"/>
            <disk id="4" si_thickness="0.275" support_thickness="1.136" z_ReltoTPCLength="0.4536"/>
            <disk id="4" si_thickness="0.275" support_thickness="1.136" z_ReltoTPCLength="0.6243"/>
            <disk id="7" si_thickness="0.275" support_thickness="1.136" z_ReltoTPCLength="0.0"/>
          </disks>
        </detector>

        <!--                  SSit03 parameters        
         --> 
        <detector id="1205" name="SSit03" type="Tesla_SSit03" vis="SitVis" readout="SitHits">
          <params sit2_tpc_gap="20.0*mm" sit1_sit2_relative_gap="0.421687*mm" sensitive_thickness="0.275*mm" support_thickness="1.0*mm"/>
          <layers>
            <layer id="1" half_z="0.158004*mm"/>
            <layer id="2" half_z="0.274428*mm"/>
          </layers>
        </detector>

        <!--                  SSet02 description
        -->
        <detector id="1208" name="SSet02" type="Tesla_SSet02" readout="SetHits" vis="SetVis">
          <param distance_set2_ecal_barrel="8.0*mm" 
                 set_layer_radial_diff="2.0*mm" 
                 sensitive_thickness="0.275*mm" 
                 support_thickness="1.0*mm"/>
        </detector>

        <!--                  SEtd02 description
        -->
        <detector id="1196" name="SEtd02" type="Tesla_SEtd02" readout="EtdHits" vis="EtdVis">
          <param etd3_ecalendcap_distance_z="20.0" 
                 sensitive_thickness="0.275" 
                 etd_ecalplug_radial_clearance="5.0"
                 layer_separation_z="2.0"
                 etd_tpcOuterR_radial_diff="14.7"
                 support_thickness="1.0"/>
        </detector>

        <!--                  BeamCal01 description
        -->
        <detector id="1210" name="BeamCal08" type="Tesla_BeamCal01" readout="BeamCalHits" vis="BeamCalVis">
          <params>
            <param value="0.3004" name="dSensor"/>
            <param value="0.05"   name="dAirgap"/>
            <param value="0.15"   name="dElboard"/>
            <param value="0.0004" name="dElectrMet"/>
          </params>
        </detector>

        <!--                  SCoil02 description, driver:  coil00
        -->
        <detector id="9" name="Coil" type="Tesla_coil00" vis="CoilVis">
          <coil inner_r="Hcal_R_max+Hcal_Coil_additional_gap"
                outer_r="Hcal_R_max+Hcal_Coil_additional_gap+Coil_thickness" 
                zhalf="TPC_Ecal_Hcal_barrel_halfZ+Coil_extra_size"
                material="Aluminum"/>
        </detector>

        <!--                  ClicYoke01 description             
        -->
        <detector id="1203" name="clicyoke01" type="Tesla_ClicYoke01" limits="YokeLimits" vis="YokeVis">
          <yoke symmetry="12" vis="YokeVis" material="Iron"/>
          <muon cell_size="30.0" 
                layer_thickness="40.0" 
                number_of_layers="18" 
                barrel_endcap_gap="25.0" 
                Hcal_plug_gap="1.0"
                iron_thickness="100.0"/>
          <rpcs>
            <rpc material="Copper" thickness="0.5"/>
            <rpc material="Polystyrene" thickness="0.2"/>
            <rpc material="PolystyreneFoam" thickness="2.0"/>
            <rpc material="Polystyrene" thickness="0.2"/>
            <rpc material="Copper" thickness="0.05"/>
            <rpc material="Mylar" thickness="0.2"/>
            <rpc material="PyrexGlass" thickness="2.0"/>
            <rpc material="RPCGAS1" thickness="2.0"/>
            <rpc material="PyrexGlass" thickness="2.0"/>
            <rpc material="Mylar" thickness="0.2"/>
            <rpc material="Copper" thickness="0.05"/>
            <rpc material="Polystyrene" thickness="0.2"/>
            <rpc material="PolystyreneFoam" thickness="2.0"/>
            <rpc material="Polystyrene" thickness="0.2"/>
            <rpc material="Copper" thickness="0.05"/>
          </rpcs>
          <barrel vis="YokeBarrelVis" readout="YokeBarrelHits"/>
          <endcap vis="YokeEndcapVis" readout="YokeEndcapHits"/>
        </detector>

    </detectors>


    <readouts>
        <readout name="VXDHits">
            <id>system:6,barrel:3,layer:4,module:16,sensor:1,side:32:-2,strip:20</id>
        </readout>
        <readout name="LcalHits">
            <id>system:6,barrel:3,layer:4,module:16,sensor:1,side:32:-2,strip:20</id>
        </readout>
        <readout name="BeamCalHits">
            <id>system:6,barrel:3,layer:4,module:16,sensor:1,side:32:-2,strip:20</id>
        </readout>
        <readout name="SitHits">
            <id>system:6,barrel:3,layer:4,module:16,sensor:1,side:32:-2,strip:20</id>
        </readout>
        <readout name="FtdHits">
            <id>system:6,barrel:3,layer:4,module:16,sensor:1,side:32:-2,strip:20</id>
        </readout>
        <readout name="EtdHits">
            <id>system:6,barrel:3,layer:4,module:16,sensor:1,side:32:-2,strip:20</id>
        </readout>
        <readout name="SetHits">
            <id>system:6,barrel:3,layer:4,module:16,sensor:1,side:32:-2,strip:20</id>
        </readout>
        <readout name="TPCHits">
            <id>system:6,barrel:3,layer:4,module:16,sensor:1,side:32:-2,strip:20</id>
        </readout>
        <readout name="TPCfchHits">
            <id>system:6,barrel:3,layer:4,module:16,sensor:1,side:32:-2,strip:20</id>
        </readout>
        <readout name="EcalBarrelHits">
            <id>system:6,barrel:3,layer:4,module:16,sensor:1,side:32:-2,strip:20</id>
        </readout>
        <readout name="EcalEndcapHits">
            <id>system:6,barrel:3,layer:4,module:16,sensor:1,side:32:-2,strip:20</id>
        </readout>
        <readout name="EcalEndcapRingHits">
            <id>system:6,barrel:3,layer:4,module:16,sensor:1,side:32:-2,strip:20</id>
        </readout>
        <readout name="HcalRegularHits">
            <id>system:6,barrel:3,layer:4,module:16,sensor:1,side:32:-2,strip:20</id>
        </readout>
        <readout name="HcalEndModuleHits">
            <id>system:6,barrel:3,layer:4,module:16</id>
        </readout>
        <readout name="HcalEndcapHits">
            <id>system:6,barrel:3,layer:4,module:16</id>
        </readout>
        <readout name="YokeBarrelHits">
            <id>system:6,barrel:3,layer:4,module:16</id>
        </readout>
        <readout name="YokeEndcapHits">
            <id>system:6,barrel:3,layer:4,module:16</id>
        </readout>
        <readout name="YokePlugHits">
            <id>system:6,barrel:3,layer:4,module:16</id>
        </readout>
    </readouts>

    <fields>
        <field type="SolenoidMagnet" name="GlobalSolenoid" inner_field="5.0*tesla"
               outer_field="-1.5*tesla" zmax="SolenoidCoilOuterZ"
               outer_radius="SolenoidalFieldRadius" />
    </fields>
</lccdd>
