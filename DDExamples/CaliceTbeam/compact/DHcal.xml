<lccdd xmlns:compact="http://www.lcsim.org/schemas/compact/1.0" 
    xmlns:xs="http://www.w3.org/2001/XMLSchema" 
    xs:noNamespaceSchemaLocation="http://www.lcsim.org/schemas/compact/1.0/compact.xsd">

    <info name="CALICE_TB_Calo"
        title="CALICE testbeam calo detectors model"
        author="S. Lu"
        url="http://ilcsoft.desy.de"
        status="development"
        version="$Id: CALICETb.xml Lu $">
        <comment>The compact format for the CALICE testbeam Detector - toy model </comment>        
    </info>
  
    <includes>
        <gdmlFile  ref="elements.xml"/>
        <gdmlFile  ref="materials.xml"/>
        <pyBuilder ref="../drivers"/>
    </includes>
  
    <define>
        <constant name="world_side"             value="10*m"/>
        <constant name="world_x"                value="world_side/2"/>
        <constant name="world_y"                value="world_side/2"/>
        <constant name="world_z"                value="world_side/2"/>        

        <constant name="TBDHcal_position"       value="3000.0*mm"/>
    </define>

    <limits>
        <limitset name="cal_limits">
            <limit name="step_length_max" particles="*" value="10.0" unit="mm" />
        </limitset>
    </limits>

    <display>
      <vis name="DHcalVis"          alpha="1" r="1"    g="1"    b="0.1" showDaughters="true" visible="false"/>
      <vis name="DHcalRadiatorVis"  alpha="1" r="0.69" g="0.77" b="0.87"showDaughters="true" visible="true"/>
      <vis name="DHcalLayerVis"     alpha="1" r="1"    g="0"    b="0.5" showDaughters="true" visible="true"/>
      <vis name="DHcalSensorVis"    alpha="1" r="0"    g="1"    b="1"   showDaughters="true" visible="true"/>
      <vis name="DHcalG10Vis"       alpha="1" r="0.44" g="0.77" b="0.44"showDaughters="true" visible="true"/>
      <vis name="DHcalMylarVis"     alpha="1" r="1"    g="1"    b="0"   showDaughters="true" visible="true"/>
      <vis name="DHcalCarbonVis"    alpha="1" r="0"    g="0"    b="0"   showDaughters="true" visible="true"/>
      <vis name="DHcalGlassVis"     alpha="1" r="0"    g="1"    b="0"   showDaughters="true" visible="true"/>
      <vis name="DHcalAirVis"       alpha="1" r="1"    g="1"    b="1"   showDaughters="true" visible="true"/>
    </display>

    <detectors>
        <detector id="7" name="DHcal" type="CalotbeamBox" readout="DHcalHits" vis="DHcalVis" calorimeterType="HCAL">
            <comment>Analog Hadron Calorimeter Prototype</comment>

            <!-- detector online alignment -->
            <dimensions x="960.0*mm" y="960.0*mm" z="26.8*40+20.0"/>
	    <position x="0" y="0" z="TBDHcal_position"/>
            <rotation x="0" y="0" z="0"/>
	    <layers>
            <layer repeat="(int) 40">
                <slice material = "Steel235"      thickness = "20.0*mm" vis="DHcalRadiatorVis" />
                <slice material = "G10"           thickness =  "1.6*mm" vis="DHcalG10Vis" />       <!--RPCElectronics -->
                <slice material = "G10"           thickness =  "0.8*mm" vis="DHcalG10Vis" />       <!--RPCPCB -->
                <slice material = "mylar"         thickness =  "0.05*mm" vis="DHcalMylarVis" />    <!--RPCmylarAnode -->
             <!--slice material = "graphite"      thickness =  "0.05*mm" vis="DHcalCarbonVis" /--> <!--RPCGraphiteAnode -->
                <slice material = "Carbon"        thickness =  "0.05*mm" vis="DHcalCarbonVis" />   <!--RPCGraphiteAnode -->
                <slice material = "Quartz"        thickness =  "0.7*mm" vis="DHcalGlassVis" />     <!--RPCThinGlass -->
                <slice material = "RPCGasDefault" thickness =  "1.2*mm" sensitive = "yes" limits="cal_limits" vis="DHcalSensorVis"/>
                <slice material = "Quartz"        thickness =  "1.1*mm" vis="DHcalGlassVis" />     <!--RPCThickGlass -->
                <slice material = "Carbon"        thickness =  "0.1*mm" vis="DHcalCarbonVis" />    <!--RPCGraphiteCathode -->
             <!--slice material = "graphite"      thickness =  "0.1*mm" vis="DHcalCarbonVis" /-->  <!--RPCGraphiteCathode -->
                <slice material = "mylar"         thickness =  "0.2*mm" vis="DHcalMylarVis" />     <!--RPCmylarCathode -->
                <slice material = "Air"           thickness =  "1.0*mm" /> <!--vis="DHcalAirVis" /-->
            </layer>
            <layer repeat="(int) 1">
                <slice material = "Steel235"    thickness = "20.0*mm"  vis="DHcalRadiatorVis" />
            </layer>
	    </layers>
        </detector>
    </detectors>

    <readouts>
        <readout name="DHcalHits">
            <segmentation type="GlobalGridXY" gridSizeX="10.0*mm" gridSizeY="10.0*mm" />
            <id>system:6,module:7,layer:8,slice:5,x:32:-16,y:-16</id>
        </readout>
    </readouts>

</lccdd>
